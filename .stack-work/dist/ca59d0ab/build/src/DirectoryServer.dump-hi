
==================== FINAL INTERFACE ====================
2017-11-30 20:52:27.2958816 UTC

interface FileServerV2-0.1.0.0-F3xgtrBdu9hCz43igDbNnv:DirectoryServer 8002
  interface hash: 12b87180abd2aecfd3fb72b552a7c61f
  ABI hash: 1da24bbcc237ff4d1daf8ea458f97f0a
  export-list hash: f8928d8c1eb24a5455be24a423ccaa20
  orphan hash: 693e9af84d3dfcc71e640e005bdc5e2e
  flag hash: b17205fb016d7ec64e27f697b667a002
  sig of: Nothing
  used TH splices: False
  where
exports:
  DirectoryServer.newDirectory
  DirectoryServer.someFunc
  DirectoryServer.startServer
module dependencies: File FileServer Locking
package dependencies: array-0.5.1.1@array-0.5.1.1 base-4.9.1.0
                      binary-0.8.3.0@binary-0.8.3.0
                      bytestring-0.10.8.1@bytestring-0.10.8.1
                      containers-0.5.7.1@containers-0.5.7.1
                      deepseq-1.4.2.0@deepseq-1.4.2.0 filepath-1.4.1.1@filepath-1.4.1.1
                      ghc-prim-0.5.0.0
                      hashable-1.2.6.1@hashable-1.2.6.1-2ZLNuHq395GGIHwEHuqZol
                      integer-gmp-1.0.0.1
                      network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk
                      stm-2.4.4.1@stm-2.4.4.1-JQn4hNPyYjP5m9AcbI88Ve
                      text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00
orphans: base-4.9.1.0:GHC.Base base-4.9.1.0:GHC.Float
         binary-0.8.3.0@binary-0.8.3.0:Data.Binary.Generic
         bytestring-0.10.8.1@bytestring-0.10.8.1:Data.ByteString.Builder
         hashable-1.2.6.1@hashable-1.2.6.1-2ZLNuHq395GGIHwEHuqZol:Data.Hashable.Generic
         network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket
         stm-2.4.4.1@stm-2.4.4.1-JQn4hNPyYjP5m9AcbI88Ve:Control.Monad.STM
         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text
         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text.Lazy
         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text.Show
family instance modules: base-4.9.1.0:Control.Applicative
                         base-4.9.1.0:Data.Complex base-4.9.1.0:Data.Either
                         base-4.9.1.0:Data.Functor.Compose base-4.9.1.0:Data.Functor.Const
                         base-4.9.1.0:Data.Functor.Identity
                         base-4.9.1.0:Data.Functor.Product base-4.9.1.0:Data.Functor.Sum
                         base-4.9.1.0:Data.List.NonEmpty base-4.9.1.0:Data.Monoid
                         base-4.9.1.0:Data.Semigroup base-4.9.1.0:Data.Type.Equality
                         base-4.9.1.0:Data.Version base-4.9.1.0:Data.Void
                         base-4.9.1.0:GHC.Exts base-4.9.1.0:GHC.Generics
                         base-4.9.1.0:GHC.IO.Exception base-4.9.1.0:GHC.TypeLits
                         containers-0.5.7.1@containers-0.5.7.1:Data.IntMap.Base
                         containers-0.5.7.1@containers-0.5.7.1:Data.IntSet.Base
                         containers-0.5.7.1@containers-0.5.7.1:Data.Map.Base
                         containers-0.5.7.1@containers-0.5.7.1:Data.Sequence
                         containers-0.5.7.1@containers-0.5.7.1:Data.Set.Base
                         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text
                         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text.Lazy
import  -/  File ab28cabb9f09ce37cd24ca90103d7357
  exports: a7a50674b698f8654485c9ec2cd5e781
  newFile 586213bdbe8403f5b4055430b2431331
import  -/  FileServer 59a64196e2ec2474a0b6d846b3d6652a
  exports: d85de3dc43d32f5eb0814af70fdf5226
  FileServer 65dac0c7d8f4cd414264c5b12dff4652
  addFile 0e84807d6ba1b4a3bc151b46b0f7c1d3
  newFileServer e234bc0157e1cbe510644e17c4359766
import  -/  base-4.9.1.0:Control.Concurrent e3f6962e2eee72e46a7f524818b5ed3e
import  -/  base-4.9.1.0:Control.Monad f915f187cea611986ebb12dbc69279ab
import  -/  base-4.9.1.0:Data.OldList c9282ee91951bdcbd918d2960562c007
import  -/  base-4.9.1.0:GHC.Base 4caea1123ecf4b46e27cbccd6d279377
import  -/  base-4.9.1.0:GHC.Conc 94c06863f96fb99073d263d7d75175a2
import  -/  base-4.9.1.0:GHC.Conc.Sync 18bcf7264dc8f03029975495d151af25
import  -/  base-4.9.1.0:GHC.IO.Handle cb8bbcf28331624bf008e1abd21fcddd
import  -/  base-4.9.1.0:GHC.IO.Handle.Text e0147bd867839fcc2c3f2eace90b4d47
import  -/  base-4.9.1.0:GHC.IO.Handle.Types 638c6e55b150de2630213031097f67d4
import  -/  base-4.9.1.0:GHC.Real b88ae4a48c079652623073a5bbf5c9b0
import  -/  base-4.9.1.0:GHC.Show eca5834daba3b6a2bbbe64ab52056707
import  -/  base-4.9.1.0:Prelude 74b3e204395920329f6de9d97206abe9
import  -/  base-4.9.1.0:System.IO 5daf3f384209c11d9566e3409af8ec5d
import  -/  containers-0.5.7.1@containers-0.5.7.1:Data.Map 6c2364c30285a1caa610caab304974c4
import  -/  containers-0.5.7.1@containers-0.5.7.1:Data.Map.Base dfcca0a6b3fe956067f7db6df4d400c2
import  -/  ghc-prim-0.5.0.0:GHC.Types 89f8de4f08018c9177c98d979eae0e45
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network ccc7f9bd02df797c247d61468b8591fb
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket e2e659f1c7cc333004207b8e0bae86f5
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket.Internal 8ddd08415e264edcd03ad47a04f53d8d
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket.Types 4069a95f9ee733839da5467ed0ac257c
import  -/  stm-2.4.4.1@stm-2.4.4.1-JQn4hNPyYjP5m9AcbI88Ve:Control.Concurrent.STM d9d67004f2499de74f3785f434493839
9d635605267a642b314f725c1d2e3a66
  $trModule :: GHC.Types.Module
  {- HasNoCafRefs, Strictness: m,
     Unfolding: (GHC.Types.Module
                   DirectoryServer.$trModule2
                   DirectoryServer.$trModule1) -}
910c4fd7351e2bd0612a10f88b05d2c2
  $trModule1 :: GHC.Types.TrName
  {- HasNoCafRefs, Strictness: m1,
     Unfolding: (GHC.Types.TrNameS "DirectoryServer"#) -}
4e424e2eac881fa509e44093ec1183a1
  $trModule2 :: GHC.Types.TrName
  {- HasNoCafRefs, Strictness: m1,
     Unfolding: (GHC.Types.TrNameS
                   "FileServerV2-0.1.0.0-F3xgtrBdu9hCz43igDbNnv"#) -}
de025acf86b4808db4210d09d8a7225c
  $w$sgo10 ::
    GHC.Prim.Int#
    -> a1
    -> Data.Map.Base.Map GHC.Types.Int a1
    -> Data.Map.Base.Map GHC.Types.Int a1
  {- Arity: 3, Strictness: <L,U><L,U><S,1*U>, Inline: [0] -}
6c2839c9532c39e4538d3042f4477a4f
  $wpoly_go10 ::
    GHC.Prim.Int#
    -> Data.Map.Base.Map GHC.Types.Int a -> GHC.Base.Maybe a
  {- Arity: 2, HasNoCafRefs, Strictness: <L,U><S,1*U>, Inline: [0] -}
2fdd41b7e2c7e3b2ff0ec85e198e4d78
  $wstartServer ::
    GHC.Types.Int
    -> GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 2, Strictness: <L,U(U)><S,U>, Inline: [0] -}
a2ac0f517fa0cce8fd4118f0dbe6914e
  type DirectoryServer =
    GHC.Conc.Sync.TVar
      (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
37c8d10a87351c0caa0450c98e0b52a3
  newDirectory :: GHC.Types.IO DirectoryServer.DirectoryServer
  {- Arity: 1, HasNoCafRefs, Strictness: <S,U>,
     Unfolding: InlineRule (0, True, True)
                DirectoryServer.newDirectory1
                  `cast`
                (Sym (GHC.Types.N:IO[0]
                          <GHC.Conc.Sync.TVar
                             (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)>_R)) -}
38d6661846487a06a85a357d601c2185
  newDirectory1 ::
    GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld,
          GHC.Conc.Sync.TVar
            (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer) #)
  {- Arity: 1, HasNoCafRefs, Strictness: <S,U>,
     Unfolding: InlineRule (1, True, False)
                (\ (s1# :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case GHC.Prim.newTVar#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        @ GHC.Prim.RealWorld
                        (Data.Map.Base.Tip @ GHC.Types.Int @ FileServer.FileServer)
                        s1# of ds { (#,#) ipv ipv1 ->
                 (# ipv,
                    GHC.Conc.Sync.TVar
                      @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                      ipv1 #) }) -}
08fe8a1297a029a3dc495590ac31e3e5
  someFunc :: GHC.Types.IO ()
  {- Arity: 1, Strictness: <S,U>,
     Unfolding: InlineRule (0, True, True)
                DirectoryServer.someFunc1
                  `cast`
                (Sym (GHC.Types.N:IO[0] <()>_R)) -}
efe471aedfe1e11fa639cdbe38738a95
  someFunc1 ::
    GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 1, Strictness: <S,U>,
     Unfolding: (\ (s :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case GHC.Prim.newTVar#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        @ GHC.Prim.RealWorld
                        (Data.Map.Base.Tip @ GHC.Types.Int @ FileServer.FileServer)
                        s of ds { (#,#) ipv ipv1 ->
                 case GHC.Prim.atomically#
                        @ ()
                        (\ (s1 :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                         case GHC.Prim.readTVar#
                                @ GHC.Prim.RealWorld
                                @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                                ipv1
                                s1 of ds1 { (#,#) ipv2 ipv3 ->
                         case GHC.Prim.newTVar#
                                @ (Data.Map.Base.Map GHC.Types.Int File.File)
                                @ GHC.Prim.RealWorld
                                DirectoryServer.someFunc9
                                ipv2 of ds2 { (#,#) ipv4 ipv5 ->
                         case GHC.Prim.writeTVar#
                                @ GHC.Prim.RealWorld
                                @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                                ipv1
                                (DirectoryServer.$w$sgo10
                                   @ FileServer.FileServer
                                   0#
                                   (FileServer.FileServer
                                      DirectoryServer.someFunc_id
                                      DirectoryServer.someFunc7
                                      (GHC.Conc.Sync.TVar
                                         @ (Data.Map.Base.Map GHC.Types.Int File.File)
                                         ipv5)
                                      DirectoryServer.someFunc6)
                                   ipv3)
                                ipv4 of s2# { DEFAULT ->
                         (# s2#, GHC.Tuple.() #) } } })
                        ipv of ds1 { (#,#) ipv2 ipv3 ->
                 case GHC.IO.Handle.Text.hPutStr2
                        GHC.IO.Handle.FD.stdout
                        DirectoryServer.someFunc5
                        GHC.Types.True
                        ipv2 of ds2 { (#,#) ipv4 ipv5 ->
                 case GHC.IO.Handle.Text.hPutStr2
                        GHC.IO.Handle.FD.stdout
                        DirectoryServer.someFunc4
                        GHC.Types.True
                        ipv4 of ds3 { (#,#) ipv6 ipv7 ->
                 case GHC.Prim.atomically#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        (\ (eta :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                         GHC.Prim.readTVar#
                           @ GHC.Prim.RealWorld
                           @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                           ipv1
                           eta)
                        ipv6 of ds4 { (#,#) ipv8 ipv9 ->
                 case DirectoryServer.$wpoly_go10
                        @ FileServer.FileServer
                        0#
                        ipv9 of wild {
                   GHC.Base.Nothing
                   -> GHC.IO.Handle.Text.hPutStr2
                        GHC.IO.Handle.FD.stdout
                        DirectoryServer.someFunc3
                        GHC.Types.True
                        ipv8
                   GHC.Base.Just fserver
                   -> case fserver of ww { FileServer.FileServer ww1 ww2 ww3 ww4 ->
                      case ww3 of ww5 { GHC.Conc.Sync.TVar ww6 ->
                      FileServer.$waddFile
                        ww1
                        ww6
                        DirectoryServer.someFunc2
                        Locking.Available
                        ipv8 } } } } } } } }) -}
a3aaf6f8c40a80fccd3f12d62e101837
  someFunc2 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString# "../data/test.txt"#) -}
0c8d163d6c8d0f9bb7ddaea377aa3d68
  someFunc3 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString#
                   "weird, file server not found"#) -}
e55658124ac7a3cbc63f64cea21fec7a
  someFunc4 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString#
                   ">Directory Server\n"#) -}
600f5e41322434971b8dcc86ef35b1e5
  someFunc5 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString#
                   "New File Server Created"#) -}
c78afac2e39f363dcab5a5c7d47592a4
  someFunc6 :: Network.Socket.Types.PortNumber
  {- Unfolding: (case {__pkg_ccall network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk htons GHC.Prim.Word#
                                                                                                -> GHC.Prim.State#
                                                                                                     GHC.Prim.RealWorld
                                                                                                -> (# GHC.Prim.State#
                                                                                                        GHC.Prim.RealWorld,
                                                                                                      GHC.Prim.Word# #)}
                        0##
                        GHC.Prim.realWorld# of wild1 { (#,#) ds ds1 ->
                 (GHC.Word.W16# (GHC.Prim.narrow16Word# ds1))
                   `cast`
                 (Sym (Network.Socket.Types.N:PortNumber[0])) }) -}
b9920571c3f7efb8b72416235abcd3e2
  someFunc7 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackAppendCString#
                   "../data/"#
                   DirectoryServer.someFunc8) -}
7295f7814b05788dab9c420831789c7a
  someFunc8 :: [GHC.Types.Char]
  {- Unfolding: (case GHC.Show.$wshowSignedInt
                        0#
                        0#
                        (GHC.Types.[] @ GHC.Types.Char) of ww4 { (#,#) ww5 ww6 ->
                 GHC.Types.: @ GHC.Types.Char ww5 ww6 }) -}
7887b71808ba93e911df117f4ddaac83
  someFunc9 :: Data.Map.Base.Map GHC.Types.Int File.File
  {- Unfolding: (FileServer.init' (GHC.Types.[] @ File.File)) -}
0e412027af6b0a97f4872b4a70b067bd
  someFunc_id :: GHC.Types.Int
  {- HasNoCafRefs, Strictness: m, Unfolding: (GHC.Types.I# 0#) -}
96cfd265c6e7ab26d1520027133654c3
  startServer ::
    DirectoryServer.DirectoryServer
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Types.IO ()
  {- Arity: 5, Strictness: <L,A><L,U(U)><L,A><L,A><S,U>,
     Unfolding: InlineRule (0, True, True)
                DirectoryServer.startServer1
                  `cast`
                (<DirectoryServer.DirectoryServer>_R
                 ->_R <GHC.Types.Int>_R
                 ->_R <GHC.Types.Int>_R
                 ->_R <GHC.Types.Int>_R
                 ->_R Sym (GHC.Types.N:IO[0] <()>_R)) -}
a1293d84ec6e1740967cfe8b47440b1c
  startServer1 ::
    DirectoryServer.DirectoryServer
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 5, Strictness: <L,A><L,U(U)><L,A><L,A><S,U>,
     Inline: INLINE[0],
     Unfolding: InlineRule (5, True, True)
                (\ (w :: DirectoryServer.DirectoryServer)
                   (w1 :: GHC.Types.Int)
                   (w2 :: GHC.Types.Int)
                   (w3 :: GHC.Types.Int)
                   (w4 :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 DirectoryServer.$wstartServer w1 w4) -}
vectorised variables:
vectorised tycons:
vectorised reused tycons:
parallel variables:
parallel tycons:
trusted: none
require own pkg trusted: False

