
==================== FINAL INTERFACE ====================
2017-12-01 17:32:10.0306502 UTC

interface FileServerV2-0.1.0.0-6BZsKY1l9t1iy3IKeXKwR:DirectoryServer 8002
  interface hash: 2de8f299dcdcdca31d088b5a2b5ee7d8
  ABI hash: e3350c1585b0cb977cf1ddc1c9efce4f
  export-list hash: 2accfc4a4597055975148d96e43f4773
  orphan hash: 693e9af84d3dfcc71e640e005bdc5e2e
  flag hash: b17205fb016d7ec64e27f697b667a002
  sig of: Nothing
  used TH splices: False
  where
exports:
  DirectoryServer.newDirectory
  DirectoryServer.someFunc
  DirectoryServer.startServer
module dependencies: File FileServer Locking
package dependencies: Win32-2.3.1.1@Win32-2.3.1.1
                      array-0.5.1.1@array-0.5.1.1 base-4.9.1.0
                      binary-0.8.3.0@binary-0.8.3.0
                      bytestring-0.10.8.1@bytestring-0.10.8.1
                      containers-0.5.7.1@containers-0.5.7.1
                      deepseq-1.4.2.0@deepseq-1.4.2.0 directory-1.3.0.0@directory-1.3.0.0
                      filepath-1.4.1.1@filepath-1.4.1.1 ghc-prim-0.5.0.0
                      hashable-1.2.6.1@hashable-1.2.6.1-2ZLNuHq395GGIHwEHuqZol
                      integer-gmp-1.0.0.1
                      network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk
                      stm-2.4.4.1@stm-2.4.4.1-JQn4hNPyYjP5m9AcbI88Ve
                      text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00
                      time-1.6.0.1@time-1.6.0.1
orphans: base-4.9.1.0:GHC.Base base-4.9.1.0:GHC.Float
         binary-0.8.3.0@binary-0.8.3.0:Data.Binary.Generic
         bytestring-0.10.8.1@bytestring-0.10.8.1:Data.ByteString.Builder
         hashable-1.2.6.1@hashable-1.2.6.1-2ZLNuHq395GGIHwEHuqZol:Data.Hashable.Generic
         network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket
         stm-2.4.4.1@stm-2.4.4.1-JQn4hNPyYjP5m9AcbI88Ve:Control.Monad.STM
         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text
         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text.Lazy
         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text.Show
         time-1.6.0.1@time-1.6.0.1:Data.Time.Calendar.Gregorian
         time-1.6.0.1@time-1.6.0.1:Data.Time.Format.Parse
         time-1.6.0.1@time-1.6.0.1:Data.Time.LocalTime.LocalTime
family instance modules: base-4.9.1.0:Control.Applicative
                         base-4.9.1.0:Data.Complex base-4.9.1.0:Data.Either
                         base-4.9.1.0:Data.Functor.Compose base-4.9.1.0:Data.Functor.Const
                         base-4.9.1.0:Data.Functor.Identity
                         base-4.9.1.0:Data.Functor.Product base-4.9.1.0:Data.Functor.Sum
                         base-4.9.1.0:Data.List.NonEmpty base-4.9.1.0:Data.Monoid
                         base-4.9.1.0:Data.Semigroup base-4.9.1.0:Data.Type.Equality
                         base-4.9.1.0:Data.Version base-4.9.1.0:Data.Void
                         base-4.9.1.0:GHC.Exts base-4.9.1.0:GHC.Generics
                         base-4.9.1.0:GHC.IO.Exception base-4.9.1.0:GHC.TypeLits
                         containers-0.5.7.1@containers-0.5.7.1:Data.IntMap.Base
                         containers-0.5.7.1@containers-0.5.7.1:Data.IntSet.Base
                         containers-0.5.7.1@containers-0.5.7.1:Data.Map.Base
                         containers-0.5.7.1@containers-0.5.7.1:Data.Sequence
                         containers-0.5.7.1@containers-0.5.7.1:Data.Set.Base
                         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text
                         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text.Lazy
import  -/  File c19c20fc1faa76b189c1e12ba211df34
  exports: dc12cef16710dfe3d1e20033993e8018
  newFile d6525597b9c4cbc7c239670bc8f5b40d
import  -/  FileServer 12a69fbd9fa376137363ef344cd9ab71
  exports: 57fd7e82988f97966dc8fde84ea5efb2
  FileServer 861a45cd3e33ce688b2eddb7a7d9adb9
  addFile 4d5ffc39f857da9ebb7e50b3d835562a
  buildFileServer fabfed64c1fa5f6f5ef2fb4a26a3c3f9
  startServer cb814993500d6e6d70ddad7c2dfa7629
import  -/  base-4.9.1.0:Control.Concurrent e3f6962e2eee72e46a7f524818b5ed3e
import  -/  base-4.9.1.0:Control.Monad f915f187cea611986ebb12dbc69279ab
import  -/  base-4.9.1.0:Data.OldList c9282ee91951bdcbd918d2960562c007
import  -/  base-4.9.1.0:GHC.Base 4caea1123ecf4b46e27cbccd6d279377
import  -/  base-4.9.1.0:GHC.Conc 94c06863f96fb99073d263d7d75175a2
import  -/  base-4.9.1.0:GHC.Conc.Sync 18bcf7264dc8f03029975495d151af25
import  -/  base-4.9.1.0:GHC.IO.Handle cb8bbcf28331624bf008e1abd21fcddd
import  -/  base-4.9.1.0:GHC.IO.Handle.Text e0147bd867839fcc2c3f2eace90b4d47
import  -/  base-4.9.1.0:GHC.IO.Handle.Types 638c6e55b150de2630213031097f67d4
import  -/  base-4.9.1.0:GHC.Real b88ae4a48c079652623073a5bbf5c9b0
import  -/  base-4.9.1.0:GHC.Show eca5834daba3b6a2bbbe64ab52056707
import  -/  base-4.9.1.0:Prelude 74b3e204395920329f6de9d97206abe9
import  -/  base-4.9.1.0:System.IO 5daf3f384209c11d9566e3409af8ec5d
import  -/  containers-0.5.7.1@containers-0.5.7.1:Data.Map 6c2364c30285a1caa610caab304974c4
import  -/  containers-0.5.7.1@containers-0.5.7.1:Data.Map.Base dfcca0a6b3fe956067f7db6df4d400c2
import  -/  directory-1.3.0.0@directory-1.3.0.0:System.Directory 4f448ef742f586f293d03ae3d978f8f8
import  -/  ghc-prim-0.5.0.0:GHC.Types 89f8de4f08018c9177c98d979eae0e45
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network ccc7f9bd02df797c247d61468b8591fb
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket e2e659f1c7cc333004207b8e0bae86f5
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket.Internal 8ddd08415e264edcd03ad47a04f53d8d
import  -/  stm-2.4.4.1@stm-2.4.4.1-JQn4hNPyYjP5m9AcbI88Ve:Control.Concurrent.STM d9d67004f2499de74f3785f434493839
d045c910ef5c5d922c60239769fe6dea
  $trModule :: GHC.Types.Module
  {- HasNoCafRefs, Strictness: m,
     Unfolding: (GHC.Types.Module
                   DirectoryServer.$trModule2
                   DirectoryServer.$trModule1) -}
63d75a8e79aa370f63b2e97ef4d66ad4
  $trModule1 :: GHC.Types.TrName
  {- HasNoCafRefs, Strictness: m1,
     Unfolding: (GHC.Types.TrNameS "DirectoryServer"#) -}
990768dd4fd50912ba19f2a5aabf7bad
  $trModule2 :: GHC.Types.TrName
  {- HasNoCafRefs, Strictness: m1,
     Unfolding: (GHC.Types.TrNameS
                   "FileServerV2-0.1.0.0-6BZsKY1l9t1iy3IKeXKwR"#) -}
a111eee3aa99cc60b39d35c47351873e
  $w$sgo10 ::
    GHC.Prim.Int#
    -> a1
    -> Data.Map.Base.Map GHC.Types.Int a1
    -> Data.Map.Base.Map GHC.Types.Int a1
  {- Arity: 3, Strictness: <L,U><L,U><S,1*U>, Inline: [0] -}
fff2105d1589f8ece2a6d40754d067e2
  $wcreateFileServer ::
    GHC.Prim.TVar#
      GHC.Prim.RealWorld
      (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 4, Strictness: <S,U><L,U(U)><L,U><S,U>, Inline: [0],
     Unfolding: (\ (ww :: GHC.Prim.TVar#
                            GHC.Prim.RealWorld
                            (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer))
                   (w :: GHC.Types.Int)
                   (w1 :: GHC.Types.Int)
                   (w2 :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case GHC.Prim.atomically#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        (\ (eta :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                         GHC.Prim.readTVar#
                           @ GHC.Prim.RealWorld
                           @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                           ww
                           eta)
                        w2 of ds1 { (#,#) ipv ipv1 ->
                 case FileServer.buildFileServer1
                        w
                        w1
                        ipv of ds2 { (#,#) ipv2 ipv3 ->
                 case ipv3 of ww1 { FileServer.FileServer ww2 ww3 ww4 ww5 ->
                 case FileServer.$wstartServer
                        ww2
                        ww4
                        ww5
                        ipv2 of ds3 { (#,#) ipv4 ipv5 ->
                 case GHC.Prim.atomically#
                        @ ()
                        (\ (eta :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                         case GHC.Prim.writeTVar#
                                @ GHC.Prim.RealWorld
                                @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                                ww
                                (case w of ww6 { GHC.Types.I# ww7 ->
                                 DirectoryServer.$w$sgo10 @ FileServer.FileServer ww7 ww1 ipv1 })
                                eta of s2# { DEFAULT ->
                         (# s2#, GHC.Tuple.() #) })
                        ipv4 of ds4 { (#,#) ipv6 ipv7 ->
                 GHC.IO.Handle.Text.hPutStr2
                   GHC.IO.Handle.FD.stdout
                   DirectoryServer.someFunc6
                   GHC.Types.True
                   ipv6 } } } } }) -}
8455e59e5054714d44eec1ffe06dde59
  $wpoly_go10 ::
    GHC.Prim.Int#
    -> Data.Map.Base.Map GHC.Types.Int a -> GHC.Base.Maybe a
  {- Arity: 2, HasNoCafRefs, Strictness: <L,U><S,1*U>, Inline: [0] -}
73d2304ab660a6d29406144e1107b69f
  $wstartServer ::
    GHC.Prim.TVar#
      GHC.Prim.RealWorld
      (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 4, Strictness: <S,U><L,U(U)><L,U><S,U>, Inline: [0] -}
8fce1590d648fcd1c09c980a97cbb54e
  type DirectoryServer =
    GHC.Conc.Sync.TVar
      (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
c81f67c4bf85b69e83047706f4c2d844
  newDirectory :: GHC.Types.IO DirectoryServer.DirectoryServer
  {- Arity: 1, HasNoCafRefs, Strictness: <S,U>,
     Unfolding: InlineRule (0, True, True)
                DirectoryServer.newDirectory1
                  `cast`
                (Sym (GHC.Types.N:IO[0]
                          <GHC.Conc.Sync.TVar
                             (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)>_R)) -}
1c348561a09cd90def440305f75b1587
  newDirectory1 ::
    GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld,
          GHC.Conc.Sync.TVar
            (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer) #)
  {- Arity: 1, HasNoCafRefs, Strictness: <S,U>,
     Unfolding: InlineRule (1, True, False)
                (\ (s1# :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case GHC.Prim.newTVar#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        @ GHC.Prim.RealWorld
                        (Data.Map.Base.Tip @ GHC.Types.Int @ FileServer.FileServer)
                        s1# of ds { (#,#) ipv ipv1 ->
                 (# ipv,
                    GHC.Conc.Sync.TVar
                      @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                      ipv1 #) }) -}
e7307a79a99c1bf5920586b52f7d54a3
  someFunc :: GHC.Types.IO ()
  {- Arity: 1, Strictness: <S,U>,
     Unfolding: InlineRule (0, True, True)
                DirectoryServer.someFunc1
                  `cast`
                (Sym (GHC.Types.N:IO[0] <()>_R)) -}
484ce21d210e6af78d3250f0ef22d6c9
  someFunc1 ::
    GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 1, Strictness: <S,U>,
     Unfolding: (\ (s :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case GHC.Prim.newTVar#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        @ GHC.Prim.RealWorld
                        (Data.Map.Base.Tip @ GHC.Types.Int @ FileServer.FileServer)
                        s of ds { (#,#) ipv ipv1 ->
                 case DirectoryServer.$wcreateFileServer
                        ipv1
                        DirectoryServer.someFunc5
                        DirectoryServer.someFunc5
                        ipv of ds1 { (#,#) ipv2 ipv3 ->
                 case GHC.IO.Handle.Text.hPutStr2
                        GHC.IO.Handle.FD.stdout
                        DirectoryServer.someFunc4
                        GHC.Types.True
                        ipv2 of ds2 { (#,#) ipv4 ipv5 ->
                 case GHC.Prim.atomically#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        (\ (eta :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                         GHC.Prim.readTVar#
                           @ GHC.Prim.RealWorld
                           @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                           ipv1
                           eta)
                        ipv4 of ds3 { (#,#) ipv6 ipv7 ->
                 case DirectoryServer.$wpoly_go10
                        @ FileServer.FileServer
                        0#
                        ipv7 of wild {
                   GHC.Base.Nothing
                   -> GHC.IO.Handle.Text.hPutStr2
                        GHC.IO.Handle.FD.stdout
                        DirectoryServer.someFunc3
                        GHC.Types.True
                        ipv6
                   GHC.Base.Just fserver
                   -> case fserver of ww { FileServer.FileServer ww1 ww2 ww3 ww4 ->
                      case ww3 of ww5 { GHC.Conc.Sync.TVar ww6 ->
                      FileServer.$waddFile
                        ww1
                        ww6
                        DirectoryServer.someFunc2
                        Locking.Available
                        ipv6 } } } } } } }) -}
299ebf7320fe08dbe7d2bebe2b03f7bd
  someFunc2 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString# "../data/test.txt"#) -}
c0e9e477d9415202138bc47a69f59484
  someFunc3 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString#
                   "weird, file server not found"#) -}
fae607f9d1bc78ceebcdcaeadd7c2bfd
  someFunc4 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString#
                   ">Directory Server\n"#) -}
de9e54b04224a4ec49c08beb5383def0
  someFunc5 :: GHC.Types.Int
  {- HasNoCafRefs, Unfolding: (GHC.Types.I# 0#) -}
d6b4db6d4cb66328c79c047705c49ed0
  someFunc6 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString#
                   "New File Server Created"#) -}
85455b24a24f908113343a4c279f403a
  startServer ::
    DirectoryServer.DirectoryServer
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Types.IO ()
  {- Arity: 5, Strictness: <S(S),U(U)><L,U(U)><L,U><L,A><S,U>,
     Unfolding: InlineRule (0, True, True)
                DirectoryServer.startServer1
                  `cast`
                (<DirectoryServer.DirectoryServer>_R
                 ->_R <GHC.Types.Int>_R
                 ->_R <GHC.Types.Int>_R
                 ->_R <GHC.Types.Int>_R
                 ->_R Sym (GHC.Types.N:IO[0] <()>_R)) -}
c93cf786fb99b9ee5eceebd500ab1ec5
  startServer1 ::
    DirectoryServer.DirectoryServer
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 5, Strictness: <S(S),U(U)><L,U(U)><L,U><L,A><S,U>,
     Inline: INLINE[0],
     Unfolding: InlineRule (5, True, False)
                (\ (w :: DirectoryServer.DirectoryServer)
                   (w1 :: GHC.Types.Int)
                   (w2 :: GHC.Types.Int)
                   (w3 :: GHC.Types.Int)
                   (w4 :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case w of ww { GHC.Conc.Sync.TVar ww1 ->
                 DirectoryServer.$wstartServer ww1 w1 w2 w4 }) -}
vectorised variables:
vectorised tycons:
vectorised reused tycons:
parallel variables:
parallel tycons:
trusted: none
require own pkg trusted: False

