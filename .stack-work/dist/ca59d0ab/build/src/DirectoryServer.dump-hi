
==================== FINAL INTERFACE ====================
2017-11-30 21:30:43.4860675 UTC

interface FileServerV2-0.1.0.0-1Temc20BNmO6CbLDWXQFSK:DirectoryServer 8002
  interface hash: 67b43f1f8ce39efdc3685702c32ef1b4
  ABI hash: 0fb3ef59f3aa75e1ae62e0e69f23eb49
  export-list hash: 12cb1da39048027c84d42c6b5287ffb8
  orphan hash: 693e9af84d3dfcc71e640e005bdc5e2e
  flag hash: b17205fb016d7ec64e27f697b667a002
  sig of: Nothing
  used TH splices: False
  where
exports:
  DirectoryServer.newDirectory
  DirectoryServer.someFunc
  DirectoryServer.startServer
module dependencies: File FileServer Locking
package dependencies: array-0.5.1.1@array-0.5.1.1 base-4.9.1.0
                      binary-0.8.3.0@binary-0.8.3.0
                      bytestring-0.10.8.1@bytestring-0.10.8.1
                      containers-0.5.7.1@containers-0.5.7.1
                      deepseq-1.4.2.0@deepseq-1.4.2.0 filepath-1.4.1.1@filepath-1.4.1.1
                      ghc-prim-0.5.0.0
                      hashable-1.2.6.1@hashable-1.2.6.1-2ZLNuHq395GGIHwEHuqZol
                      integer-gmp-1.0.0.1
                      network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk
                      stm-2.4.4.1@stm-2.4.4.1-JQn4hNPyYjP5m9AcbI88Ve
                      text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00
orphans: base-4.9.1.0:GHC.Base base-4.9.1.0:GHC.Float
         binary-0.8.3.0@binary-0.8.3.0:Data.Binary.Generic
         bytestring-0.10.8.1@bytestring-0.10.8.1:Data.ByteString.Builder
         hashable-1.2.6.1@hashable-1.2.6.1-2ZLNuHq395GGIHwEHuqZol:Data.Hashable.Generic
         network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket
         stm-2.4.4.1@stm-2.4.4.1-JQn4hNPyYjP5m9AcbI88Ve:Control.Monad.STM
         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text
         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text.Lazy
         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text.Show
family instance modules: base-4.9.1.0:Control.Applicative
                         base-4.9.1.0:Data.Complex base-4.9.1.0:Data.Either
                         base-4.9.1.0:Data.Functor.Compose base-4.9.1.0:Data.Functor.Const
                         base-4.9.1.0:Data.Functor.Identity
                         base-4.9.1.0:Data.Functor.Product base-4.9.1.0:Data.Functor.Sum
                         base-4.9.1.0:Data.List.NonEmpty base-4.9.1.0:Data.Monoid
                         base-4.9.1.0:Data.Semigroup base-4.9.1.0:Data.Type.Equality
                         base-4.9.1.0:Data.Version base-4.9.1.0:Data.Void
                         base-4.9.1.0:GHC.Exts base-4.9.1.0:GHC.Generics
                         base-4.9.1.0:GHC.IO.Exception base-4.9.1.0:GHC.TypeLits
                         containers-0.5.7.1@containers-0.5.7.1:Data.IntMap.Base
                         containers-0.5.7.1@containers-0.5.7.1:Data.IntSet.Base
                         containers-0.5.7.1@containers-0.5.7.1:Data.Map.Base
                         containers-0.5.7.1@containers-0.5.7.1:Data.Sequence
                         containers-0.5.7.1@containers-0.5.7.1:Data.Set.Base
                         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text
                         text-1.2.2.2@text-1.2.2.2-9UQZjEJZQFSGMffj1Z5g00:Data.Text.Lazy
import  -/  File 881a0a027669cbfcf8af6e3f25a7aba6
  exports: 3b15c228ea8e29014a36cfe41caa01d2
  newFile 5740426200b363f1f46ac425df884fe6
import  -/  FileServer 8709ac8007f87d51cd64ff8f9a7c689f
  exports: 19e27c4e88ee2def35a6245af991c03d
  FileServer c346a2d8e01e1c88e19368fb8c0866ec
  addFile 00eab4c00bea518f33144415266343de
  newFileServer 3b818c9ea61185423a02301824a7369e
  startServer aa532fc953e50693a8381dde1797f721
import  -/  base-4.9.1.0:Control.Concurrent e3f6962e2eee72e46a7f524818b5ed3e
import  -/  base-4.9.1.0:Control.Monad f915f187cea611986ebb12dbc69279ab
import  -/  base-4.9.1.0:Data.OldList c9282ee91951bdcbd918d2960562c007
import  -/  base-4.9.1.0:GHC.Base 4caea1123ecf4b46e27cbccd6d279377
import  -/  base-4.9.1.0:GHC.Conc 94c06863f96fb99073d263d7d75175a2
import  -/  base-4.9.1.0:GHC.Conc.Sync 18bcf7264dc8f03029975495d151af25
import  -/  base-4.9.1.0:GHC.IO.Handle cb8bbcf28331624bf008e1abd21fcddd
import  -/  base-4.9.1.0:GHC.IO.Handle.Text e0147bd867839fcc2c3f2eace90b4d47
import  -/  base-4.9.1.0:GHC.IO.Handle.Types 638c6e55b150de2630213031097f67d4
import  -/  base-4.9.1.0:GHC.Real b88ae4a48c079652623073a5bbf5c9b0
import  -/  base-4.9.1.0:GHC.Show eca5834daba3b6a2bbbe64ab52056707
import  -/  base-4.9.1.0:Prelude 74b3e204395920329f6de9d97206abe9
import  -/  base-4.9.1.0:System.IO 5daf3f384209c11d9566e3409af8ec5d
import  -/  containers-0.5.7.1@containers-0.5.7.1:Data.Map 6c2364c30285a1caa610caab304974c4
import  -/  containers-0.5.7.1@containers-0.5.7.1:Data.Map.Base dfcca0a6b3fe956067f7db6df4d400c2
import  -/  ghc-prim-0.5.0.0:GHC.Types 89f8de4f08018c9177c98d979eae0e45
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network ccc7f9bd02df797c247d61468b8591fb
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket e2e659f1c7cc333004207b8e0bae86f5
import  -/  network-2.6.3.2@network-2.6.3.2-F0OcsS89osODGCGHNf1FTk:Network.Socket.Internal 8ddd08415e264edcd03ad47a04f53d8d
import  -/  stm-2.4.4.1@stm-2.4.4.1-JQn4hNPyYjP5m9AcbI88Ve:Control.Concurrent.STM d9d67004f2499de74f3785f434493839
47e2ceae78c154bad65b594f4bb863e0
  $trModule :: GHC.Types.Module
  {- HasNoCafRefs, Strictness: m,
     Unfolding: (GHC.Types.Module
                   DirectoryServer.$trModule2
                   DirectoryServer.$trModule1) -}
d9031742406275400ddb989556c28c65
  $trModule1 :: GHC.Types.TrName
  {- HasNoCafRefs, Strictness: m1,
     Unfolding: (GHC.Types.TrNameS "DirectoryServer"#) -}
69d6a06c261a4ebdef4986cc3f8b4634
  $trModule2 :: GHC.Types.TrName
  {- HasNoCafRefs, Strictness: m1,
     Unfolding: (GHC.Types.TrNameS
                   "FileServerV2-0.1.0.0-1Temc20BNmO6CbLDWXQFSK"#) -}
33d4dce6db246aa389282b899eba30e2
  $w$sgo10 ::
    GHC.Prim.Int#
    -> a1
    -> Data.Map.Base.Map GHC.Types.Int a1
    -> Data.Map.Base.Map GHC.Types.Int a1
  {- Arity: 3, Strictness: <L,U><L,U><S,1*U>, Inline: [0] -}
53d2e80d4806cb11417732441b32a7c2
  $wcreateFileServer ::
    GHC.Prim.TVar#
      GHC.Prim.RealWorld
      (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 4, Strictness: <S,U><L,U(U)><L,U(U)><S,U>, Inline: [0],
     Unfolding: (\ (ww :: GHC.Prim.TVar#
                            GHC.Prim.RealWorld
                            (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer))
                   (w :: GHC.Types.Int)
                   (w1 :: GHC.Types.Int)
                   (w2 :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case GHC.Prim.atomically#
                        @ ()
                        (\ (s :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                         case GHC.Prim.readTVar#
                                @ GHC.Prim.RealWorld
                                @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                                ww
                                s of ds1 { (#,#) ipv ipv1 ->
                         case GHC.Prim.newTVar#
                                @ (Data.Map.Base.Map GHC.Types.Int File.File)
                                @ GHC.Prim.RealWorld
                                DirectoryServer.someFunc7
                                ipv of ds { (#,#) ipv2 ipv3 ->
                         case FileServer.$wstartServer w w1 ipv2 of ds2 { (#,#) ipv4 ipv5 ->
                         case GHC.Prim.writeTVar#
                                @ GHC.Prim.RealWorld
                                @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                                ww
                                (case w of ww1 { GHC.Types.I# ww2 ->
                                 DirectoryServer.$w$sgo10
                                   @ FileServer.FileServer
                                   ww2
                                   (FileServer.FileServer
                                      ww1
                                      (GHC.CString.unpackAppendCString#
                                         "../data/"#
                                         (case GHC.Show.$wshowSignedInt
                                                 0#
                                                 ww2
                                                 (GHC.Types.[]
                                                    @ GHC.Types.Char) of ww4 { (#,#) ww5 ww6 ->
                                          GHC.Types.: @ GHC.Types.Char ww5 ww6 }))
                                      (GHC.Conc.Sync.TVar
                                         @ (Data.Map.Base.Map GHC.Types.Int File.File)
                                         ipv3)
                                      w1)
                                   ipv1 })
                                ipv4 of s2# { DEFAULT ->
                         (# s2#, GHC.Tuple.() #) } } } })
                        w2 of ds1 { (#,#) ipv ipv1 ->
                 GHC.IO.Handle.Text.hPutStr2
                   GHC.IO.Handle.FD.stdout
                   DirectoryServer.someFunc6
                   GHC.Types.True
                   ipv }) -}
c3e24747814bfcc03340df08ff464804
  $wpoly_go10 ::
    GHC.Prim.Int#
    -> Data.Map.Base.Map GHC.Types.Int a -> GHC.Base.Maybe a
  {- Arity: 2, HasNoCafRefs, Strictness: <L,U><S,1*U>, Inline: [0] -}
4e8dae2ceafea2555d89fe1d98feeea5
  $wstartServer ::
    GHC.Prim.TVar#
      GHC.Prim.RealWorld
      (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 4, Strictness: <S,U><L,U(U)><L,U(U)><S,U>, Inline: [0] -}
3ed538e39983cc060f14d5791b8f361f
  type DirectoryServer =
    GHC.Conc.Sync.TVar
      (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
555674ba6395d6499cbce5b35af393d4
  newDirectory :: GHC.Types.IO DirectoryServer.DirectoryServer
  {- Arity: 1, HasNoCafRefs, Strictness: <S,U>,
     Unfolding: InlineRule (0, True, True)
                DirectoryServer.newDirectory1
                  `cast`
                (Sym (GHC.Types.N:IO[0]
                          <GHC.Conc.Sync.TVar
                             (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)>_R)) -}
548dd2d6cf9d9119eec3ab9852e9e1d4
  newDirectory1 ::
    GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld,
          GHC.Conc.Sync.TVar
            (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer) #)
  {- Arity: 1, HasNoCafRefs, Strictness: <S,U>,
     Unfolding: InlineRule (1, True, False)
                (\ (s1# :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case GHC.Prim.newTVar#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        @ GHC.Prim.RealWorld
                        (Data.Map.Base.Tip @ GHC.Types.Int @ FileServer.FileServer)
                        s1# of ds { (#,#) ipv ipv1 ->
                 (# ipv,
                    GHC.Conc.Sync.TVar
                      @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                      ipv1 #) }) -}
343859845d1189fdb8f7b6024c1c9ec6
  someFunc :: GHC.Types.IO ()
  {- Arity: 1, Strictness: <S,U>,
     Unfolding: InlineRule (0, True, True)
                DirectoryServer.someFunc1
                  `cast`
                (Sym (GHC.Types.N:IO[0] <()>_R)) -}
60d13db39afc23e685feb30514b42131
  someFunc1 ::
    GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 1, Strictness: <S,U>,
     Unfolding: (\ (s :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case GHC.Prim.newTVar#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        @ GHC.Prim.RealWorld
                        (Data.Map.Base.Tip @ GHC.Types.Int @ FileServer.FileServer)
                        s of ds { (#,#) ipv ipv1 ->
                 case DirectoryServer.$wcreateFileServer
                        ipv1
                        DirectoryServer.someFunc5
                        DirectoryServer.someFunc5
                        ipv of ds1 { (#,#) ipv2 ipv3 ->
                 case GHC.IO.Handle.Text.hPutStr2
                        GHC.IO.Handle.FD.stdout
                        DirectoryServer.someFunc4
                        GHC.Types.True
                        ipv2 of ds2 { (#,#) ipv4 ipv5 ->
                 case GHC.Prim.atomically#
                        @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                        (\ (eta :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                         GHC.Prim.readTVar#
                           @ GHC.Prim.RealWorld
                           @ (Data.Map.Base.Map GHC.Types.Int FileServer.FileServer)
                           ipv1
                           eta)
                        ipv4 of ds3 { (#,#) ipv6 ipv7 ->
                 case DirectoryServer.$wpoly_go10
                        @ FileServer.FileServer
                        0#
                        ipv7 of wild {
                   GHC.Base.Nothing
                   -> GHC.IO.Handle.Text.hPutStr2
                        GHC.IO.Handle.FD.stdout
                        DirectoryServer.someFunc3
                        GHC.Types.True
                        ipv6
                   GHC.Base.Just fserver
                   -> case fserver of ww { FileServer.FileServer ww1 ww2 ww3 ww4 ->
                      case ww3 of ww5 { GHC.Conc.Sync.TVar ww6 ->
                      FileServer.$waddFile
                        ww1
                        ww6
                        DirectoryServer.someFunc2
                        Locking.Available
                        ipv6 } } } } } } }) -}
ff7b72573a94e7ea9bf9ff0200fd355d
  someFunc2 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString# "../data/test.txt"#) -}
d505a4110af81c53f088ac7bfffb27c9
  someFunc3 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString#
                   "weird, file server not found"#) -}
3e5ece192a4c3ce3ba123d6a473b4ee0
  someFunc4 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString#
                   ">Directory Server\n"#) -}
ab714b6be7e0af7a8a890534cebaafd0
  someFunc5 :: GHC.Types.Int
  {- HasNoCafRefs, Unfolding: (GHC.Types.I# 0#) -}
e90cd297c38e4e4d651bd2fff2838db8
  someFunc6 :: [GHC.Types.Char]
  {- Unfolding: (GHC.CString.unpackCString#
                   "New File Server Created"#) -}
01a187cc4f20f87122b2a93c10c76edd
  someFunc7 :: Data.Map.Base.Map GHC.Types.Int File.File
  {- Unfolding: (FileServer.init' (GHC.Types.[] @ File.File)) -}
4b6c3376ad9b3ecf5b84963abfddd31b
  startServer ::
    DirectoryServer.DirectoryServer
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Types.IO ()
  {- Arity: 5, Strictness: <S(S),1*U(U)><L,U(U)><L,U(U)><L,A><S,U>,
     Unfolding: InlineRule (0, True, True)
                DirectoryServer.startServer1
                  `cast`
                (<DirectoryServer.DirectoryServer>_R
                 ->_R <GHC.Types.Int>_R
                 ->_R <GHC.Types.Int>_R
                 ->_R <GHC.Types.Int>_R
                 ->_R Sym (GHC.Types.N:IO[0] <()>_R)) -}
38f197f228b83cdd9cc01f77b0462959
  startServer1 ::
    DirectoryServer.DirectoryServer
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Types.Int
    -> GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 5, Strictness: <S(S),1*U(U)><L,U(U)><L,U(U)><L,A><S,U>,
     Inline: INLINE[0],
     Unfolding: InlineRule (5, True, False)
                (\ (w :: DirectoryServer.DirectoryServer)
                   (w1 :: GHC.Types.Int)
                   (w2 :: GHC.Types.Int)
                   (w3 :: GHC.Types.Int)
                   (w4 :: GHC.Prim.State# GHC.Prim.RealWorld)[OneShot] ->
                 case w of ww { GHC.Conc.Sync.TVar ww1 ->
                 DirectoryServer.$wstartServer ww1 w1 w2 w4 }) -}
vectorised variables:
vectorised tycons:
vectorised reused tycons:
parallel variables:
parallel tycons:
trusted: none
require own pkg trusted: False

